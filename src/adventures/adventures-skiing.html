<link rel="import" href="/bower_components/polymer/polymer.html">
<link rel="import" href="/bower_components/paper-card/paper-card.html">
<link rel="import" href="/bower_components/iron-selector/iron-selector.html">
<link rel="import" href="/bower_components/iron-pages/iron-pages.html">
<link rel="import" href="/elements/my-news-container.html">
<link rel="import" href="/elements/my-left-image-paper-card.html">
<link rel="import" href="/elements/my-inquiry-button.html">

<link rel="import" href="/src/shared-styles.html">

<link rel="import" href="/src/adventures/skiing-cabin.html">
<link rel="import" href="/src/adventures/skiing-tent.html">
<link rel="import" href="/src/adventures/skiing-yourown.html">

<dom-module id="adventures-skiing">

    <template>
        <style is="custom-style" include="shared-styles">
            /* CSS rules for your element */
        </style>

        <!-- local DOM for your element -->
        <app-route route="{{route}}" pattern="/:tour" data="{{tourData}}" tail="{{tail}}"></app-route>

        <div class="row">

            <div class="col l3 hide-on-med-and-down">


                <my-inquiry-button></my-inquiry-button>

                <a href="/before-trip/skiing">
                    <paper-card heading="Before the trip" class="colorfull">
                        <div class="card-content">
                            <p>In this section we will try to give you the information you need to be able to bring right kind
                                of cloth and equipment, but also give an idea about what you can expect.</p>
                        </div>
                    </paper-card>
                </a>
                <a href="/photos/skiing">
                    <paper-card heading="Skiing photos" image="/images/500/cabin_w002.jpg">
                    </paper-card>
                </a>

            </div>

            <div class="col s12 m12 l9">

                <template is="dom-if" if="{{isMain}}">
                    <paper-card>
                        <div class="card-content">
                            <h1>Cross country skiing</h1>
                            <p class="lead">Cross country skiing in the Swedish mountains during the best time of the year, the fifth season:
                                still winter, but with long lasting sunshine days. Sun factor 20 is needed.</p>
                            <p>We cross the snowy mountains under a blue sky, take our breaks in dug couches of snow and spend
                                the nights in mountain lodges. Days of enjoyment, experience and fantastic views!</p>
                        </div>
                    </paper-card>
                </template>


                <!--<h1>Cross country skiing <small class="hidden-xs">in the Swedish mountains!</small></h1>
                <p class="lead">We have three packages to choose between:</p>-->

                <iron-selector class="my-package-menu" selected="{{tourData.tour}}" attr-for-selected="tour">
                    <a href="/adventures/skiing/cabin" tour="cabin">
                        <paper-card heading="Cabin tour" image="/images/500-300/skiing001.jpg">
                            <div class="card-content">
                                <p>Our standard package is including everything for a fantastic skiing experience!</p>
                            </div>
                        </paper-card>
                    </a>

                    <a href="/adventures/skiing/tent" tour="tent">
                        <paper-card heading="Tent tour" image="/images/500-300/skiing002.jpg">
                            <div class="card-content">
                                <p>This package focuses more on giving you an adventure to remember.</p>
                            </div>
                        </paper-card>
                    </a>

                    <a href="/adventures/skiing/yourown" tour="yourown">
                        <paper-card heading="Your own tour" image="/images/500-300/skiing003.jpg">
                            <div class="card-content">
                                <p>Experiens the fantastic feeling of skiing all night where the sun never sets</p>
                            </div>
                        </paper-card>
                    </a>

                </iron-selector>

                <template is="dom-if" if="{{!isMain}}">
                    <iron-pages selected="{{tourData.tour}}" attr-for-selected="tour">
                        <skiing-cabin tour="cabin"></skiing-cabin>
                        <skiing-tent tour="tent"></skiing-tent>
                        <skiing-yourown tour="yourown"></skiing-yourown>
                    </iron-pages>
                </template>

                <paper-card>
                    <div class="card-content">
                        <h1>Send an inquiry</h1>
                        <p class="lead">If you would like to know more, get a price or ask questions feel free to contact us, or fill out
                            this form</p>
                    </div>
                    <div class="card-actions">
                        <a href$="{{baseUrl}}booking" data-route="booking">
                            <paper-button>Go to the inquiry form</paper-button>
                        </a>
                    </div>
                </paper-card>

            </div>
        </div>

    </template>

    <script>
        // element registration
        Polymer({
          is: "adventures-skiing",

            properties: {
                tour: {
                    type: String,
                    reflectToAttribute: true,
                },
                isMain: {
                    type: Boolean,
                    computed: '_computeIsMain(tour)'
                }
            },

            observers: [
                '_routePageChanged(tourData.tour)',
            ],

            _routePageChanged: function(route) {
                this.tour = route || 'main';

            },
            _computeIsMain: function(tour) {
                return tour === 'main';
            }
        });
      </script>

</dom-module>