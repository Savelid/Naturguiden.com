<link rel="import" href="../bower_components/polymer/polymer.html">
<link rel="import" href="../src/shared-styles.html">

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
<script src="materialize-shortened.js"></script>
<dom-module id="materialize-slider">
    <template>
        <style is="custom-style" include="shared-styles">
            .slider {
                position: relative;
                height: 230px;
                width: 100%;
            }
            
            .slider.fullscreen {
                height: 100%;
                width: 100%;
                position: absolute;
                top: 0;
                left: 0;
                right: 0;
                bottom: 0;
            }
            
            .slider.fullscreen ul.slides {
                height: 100%;
            }
            
            .slider.fullscreen ul.indicators {
                z-index: 2;
                bottom: 30px;
            }
            
            .slider .slides {
                background-color: #9e9e9e;
                margin: 0;
                height: 230px;
            }
            
            .slider .slides li {
                opacity: 0;
                position: absolute;
                top: 0;
                left: 0;
                z-index: 1;
                width: 100%;
                height: inherit;
                overflow: hidden;
            }
            
            .slider .slides li img {
                height: 100%;
                width: 100%;
                background-size: cover;
                background-position: center;
            }
            
            .slider .slides li .caption {
                color: #fff;
                position: absolute;
                top: 15%;
                left: 15%;
                width: 70%;
                opacity: 0;
            }
            
            .slider .slides li .caption p {
                color: #e0e0e0;
            }
            
            .slider .slides li.active {
                z-index: 2;
            }
            
            .slider .indicators {
                position: absolute;
                text-align: center;
                left: 0;
                right: 0;
                bottom: 0;
                margin: 0;
            }
            
            .slider .indicators .indicator-item {
                display: inline-block;
                position: relative;
                cursor: pointer;
                height: 16px;
                width: 16px;
                margin: 0 12px;
                background-color: #e0e0e0;
                transition: background-color .3s;
                border-radius: 50%;
            }
            
            .slider .indicators .indicator-item.active {
                background-color: #4CAF50;
            }
            
            .left-align {
                text-align: left;
            }
            
            .right-align {
                text-align: right;
            }
            
            .center,
            .center-align {
                text-align: center;
            }
            
            .light,
            footer.page-footer .footer-copyright {
                font-weight: 300;
            }
            
            h1 {
                font-size: 2.6em;
                line-height: 110%;
                margin: 2.1rem 0 1.68rem 0;
            }
            
            h2 {
                font-size: 1.3em;
                line-height: 110%;
                margin: 0.82rem 0 0.656rem 0;
            }

            .tall h1 {
                font-size: 3.5em;
            }
            
            .tall h2 {
                font-size: 1.7em;
            }

            .slider {
                margin-bottom: 16px;
            }

            .caption {
                text-shadow: 0 0 0.4em #000;
            }

            .slider.tall .slides {
                height: 400px;
            }
            .slider.tall {
                height: 440px;
            }
        </style>

        <div id="slider" class="slider flow-text">
            <ul class="slides">
                <li>
                    <a href="/adventures/skating-weekend">
                        <img src="/images/1400/skating_1413_1.jpg">
                        <div class="caption left-align">
                            <h1>Nordic Skating</h1>
                            <h2 class="light grey-text text-lighten-3">Skate brake</h2>
                        </div>
                    </a>
                </li>
                <li>
                    <a href="/adventures/skating-weekend">
                        <img src="/images/1400/skating_1413_2.jpg">
                        <div class="caption right-align">
                            <h1>Nordic Kayak</h1>
                            <h2 class="light grey-text text-lighten-3">I new day on the ice</h2>
                        </div>
                    </a>
                </li>
                <li>
                    <a href="/adventures/skating-weekend">
                        <img src="/images/1400/skating_1413_3.jpg">
                        <div class="caption left-align">
                            <h1>Cross country skiing</h1>
                            <h2 class="light grey-text text-lighten-3">On our way</h2>
                        </div>
                    </a>
                </li>
                <li>
                    <a href="/adventures/skating-weekend">
                        <img src="/images/1400/skating_1413_4.jpg">
                        <div class="caption right-align">
                            <h1>Hiking</h1>
                            <h2 class="light grey-text text-lighten-3">Ice hiking</h2>
                        </div>
                    </a>
                </li>
            </ul>
        </div>

    </template>

    <script>
    Polymer({
        is: 'materialize-slider',

        properties: {
            desktop: {
                type: Boolean,
                reflectToAttribute: true,
                value: false,
                observer: '_changeMode'
            }
        },

        _changeMode: function(){
            if(this.desktop) {
                this.$.slider.classList.add('tall');
            }
            else{
                this.$.slider.classList.remove('tall');
            }
        },

        ready: function(){
            var slider = Polymer.dom(this.root).querySelector('.slider');
            $(slider).slider({full_width: true});
        }
    });

    </script>

</dom-module>